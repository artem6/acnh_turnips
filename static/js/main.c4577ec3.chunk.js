(this.webpackJsonpanimal_crossing_turnips=this.webpackJsonpanimal_crossing_turnips||[]).push([[0],{1:function(e,a,t){e.exports={priceTable:"Turnips_priceTable__1R06m",formDay:"Turnips_formDay__1WR1H",recommendation:"Turnips_recommendation__1YEcW",patternSelect:"Turnips_patternSelect__1x5LR"}},72:function(e,a,t){e.exports=t(80)},77:function(e,a,t){},78:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(27),c=t.n(o),i=(t(77),t(78),t(29)),l=t(7),u=t(4),s=["Random","Large Spike","Decreasing","Small Spike","Unknown"];function f(e){var a=e[0],t=[],n=[];[0,1,2,3,4,5,6].forEach((function(a){[2,3].forEach((function(r){[0,1,2,3,4,5,6].forEach((function(o){var c=7-a,i=5-r;if(!(o>c-1)){n.push({decPhaseLen1:r,hiPhaseLen1:a,hiPhaseLen3:o,hiPhaseLen2and3:c,decPhaseLen2:i});for(var l=[],u=0;u<14;u++)l.push([e[u],e[u]]);t.push(l)}}))}))}));for(var r=0;r<n.length;r++){for(var o=n[r],c=2,i=0;i<o.hiPhaseLen1;i++)e[c]||(t[r][c][0]=Math.floor(.9*a),t[r][c][1]=Math.ceil(1.4*a)),c++;for(var l=.6,u=.8,s=0;s<o.decPhaseLen1;s++)e[c]||(t[r][c][0]=Math.floor(l*a),t[r][c][1]=Math.ceil(u*a)),l-=.1,u-=.04,c++;for(var f=0;f<o.hiPhaseLen2and3-o.hiPhaseLen3;f++)e[c]||(t[r][c][0]=Math.floor(.9*a),t[r][c][1]=Math.ceil(1.4*a)),c++;l=.6,u=.8;for(var h=0;h<o.decPhaseLen2;h++)e[c]||(t[r][c][0]=Math.floor(l*a),t[r][c][1]=Math.ceil(u*a)),l-=.1,u-=.04,c++;for(var p=0;p<o.hiPhaseLen3;p++)e[c]||(t[r][c][0]=Math.floor(.9*a),t[r][c][1]=Math.ceil(1.4*a)),c++}return t}function h(e){var a=e[0],t=[],n=[];[3,4,5,6,7,8,9].forEach((function(a){n.push({peakStart:a});for(var r=[],o=0;o<14;o++)r.push([e[o],e[o]]);t.push(r)}));for(var r=0;r<n.length;r++){for(var o=n[r],c=.85,i=.9,l=2;l<o.peakStart;l++)e[l]||(t[r][l][0]=Math.floor(c*a),t[r][l][1]=Math.ceil(i*a)),c-=.05,i-=.03;for(e[l]||(t[r][l][0]=Math.floor(.9*a),t[r][l][1]=Math.ceil(1.4*a)),l++,e[l]||(t[r][l][0]=Math.floor(1.4*a),t[r][l][1]=Math.ceil(2*a)),l++,e[l]||(t[r][l][0]=Math.floor(2*a),t[r][l][1]=Math.ceil(6*a)),l++,e[l]||(t[r][l][0]=Math.floor(1.4*a),t[r][l][1]=Math.ceil(2*a)),l++,e[l]||(t[r][l][0]=Math.floor(.9*a),t[r][l][1]=Math.ceil(1.4*a)),l++;l<14;l++)e[l]||(t[r][l][0]=Math.floor(.4*a),t[r][l][1]=Math.ceil(.9*a))}return t}function p(e){for(var a=e[0],t=[],n=[],r=0;r<14;r++)n.push([e[r],e[r]]);t.push(n);var o=.9,c=.9;o-=.05,c-=0;for(var i=2;i<14;i++){for(var l=0;l<t.length;l++)e[i]||(t[l][i][0]=Math.floor(o*a),t[l][i][1]=Math.ceil(c*a));o-=.05,c-=.03}return t}function m(e){var a=e[0],t=[],n=[];[2,3,4,5,6,7,8,9].forEach((function(a){n.push({peakStart:a});for(var r=[],o=0;o<14;o++)r.push([e[o],e[o]]);t.push(r)}));for(var r=0;r<n.length;r++){for(var o=n[r],c=.4,i=.9,l=2;l<o.peakStart;l++)e[l]||(t[r][l][0]=Math.floor(c*a),t[r][l][1]=Math.ceil(i*a)),c-=.05,i-=.03;if(e[l]||(t[r][l][0]=Math.floor(.9*a),t[r][l][1]=Math.ceil(1.4*a)),l++,e[l]||(t[r][l][0]=Math.floor(.9*a),t[r][l][1]=Math.ceil(1.4*a)),l++,e[l]||(t[r][l][0]=Math.floor(1.4*a)-1,t[r][l][1]=Math.ceil(2*a)-1),l++,e[l]||(t[r][l][0]=Math.floor(1.4*a),t[r][l][1]=Math.ceil(2*a)),l++,e[l]||(t[r][l][0]=Math.floor(1.4*a)-1,t[r][l][1]=Math.ceil(2*a)-1),++l<14)for(c=.4,i=.9;l<14;l++)e[l]||(t[r][l][0]=Math.floor(c*a),t[r][l][1]=Math.ceil(i*a)),c-=.05,i-=.03}return t}function d(e){return 0===e?[.2,.3,.15,.35]:1===e?[.5,.05,.2,.25]:2===e?[.25,.45,.05,.25]:3===e?[.45,.25,.15,.15]:[.35,.25,.15,.25]}function v(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,t=Object(l.a)(e),n=2;n<t.length;n++)t[n]=0;var r=[f(t),h(t),p(t),m(t)],o=[],c=d(a);r.forEach((function(a,t){var n=[];a.forEach((function(a){for(var r={dailyPriceRange:[],probability:0,type:t},o=0;o<2;o++)r.dailyPriceRange.push({high:e[o],low:e[o]});for(var c=2;c<a.length;c++){var i=a[c][0],l=a[c][1];if(e[c]&&e[c]<i)return;if(e[c]&&e[c]>l)return;r.dailyPriceRange.push({high:l,low:i})}n.push(r)})),n.forEach((function(e){e.probability=c[t]/n.length})),o.push.apply(o,n)}));var i=o.reduce((function(e,a){return e+a.probability}),0);return o.forEach((function(e){return e.probability=e.probability/i})),{patterns:o}}function y(e,a){for(var t=function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=[],n=[];return e.forEach((function(e){for(var r=2;r<14;r++){for(var o=0,c=0,i=0,l=r;l<14;l++){var u=e.dailyPriceRange[l].high,s=e.dailyPriceRange[l].low,f=(u+s)/2;o<f&&(o=f,c=u,i=s)}a[r]+=o*e.probability,n[r]=Math.min(n[r]||99999,i),t[r]=Math.max(t[r]||0,c)}})),{price:a,low:n,high:t}}(e),n=0,r=0,o=0,c=a;c<14;c++)t.price[c]>n&&(n=t.price[c],r=t.high[c],o=t.low[c]);return{expected:n,high:r,low:o}}var g=t(19),E=t.n(g),M=t(28),b=t(2),x=function(e){var a=Object(n.useRef)(null);return Object(n.useEffect)((function(){function t(){return(t=Object(M.a)(E.a.mark((function t(){var n,r,o,c,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=460-(n={top:10,right:30,bottom:30,left:60}).left-n.right,o=400-n.top-n.bottom,c=b.f(a.current).attr("width",r+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),i=b.e().domain([0,14]).range([0,r]),c.append("g").attr("transform","translate(0,"+o+")").call(b.b(i).tickFormat((function(e){return["Buy","","Mon","","Tue","","Wed","","Thu","","Fri","","Sat",""][e]}))),l=b.e().domain([0,600]).range([o,0]),c.append("g").call(b.c(l)),c.append("text").attr("x",r/2).attr("y",0+n.top).attr("text-anchor","middle").style("font-size","16px").text(e.data.title),e.data.areas.forEach((function(e){c.append("path").datum(e.data).attr("fill","#cce5df").attr("stroke","none").attr("opacity",void 0!==e.opacity?e.opacity:1).attr("d",b.a().x((function(e){return i(e.x)})).y0((function(e){return l(e.y0)})).y1((function(e){return l(e.y1)})))})),e.data.lines.forEach((function(e){c.append("path").datum(e.data).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",b.d().x((function(e){return i(e.x)})).y((function(e){return l(e.y)})))}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.data&&a.current&&function(){t.apply(this,arguments)}()}),[e.data,a.current]),r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{className:"d3-component",width:400,height:200,ref:a}))},N={},w="undefined"!==typeof localStorage;function S(){if(w){var e=localStorage.getItem("MONETFE_DATA_STORE");if(e)return JSON.parse(e)}return N}function P(e){N=e,w&&localStorage.setItem("MONETFE_DATA_STORE",JSON.stringify(e))}var O=t(1),T=t.n(O),_=function(e){var a=S()[e];if(a)return a.expiration<Date.now()?function(e){var a=S();delete a[e],P(a)}(e):a.value}("turnipPriceStore"),k=function(e){var a,t=Object(n.useState)((null===_||void 0===_?void 0:_.lastPattern)||4),o=Object(u.a)(t,2),c=o[0],i=o[1],f=Object(n.useState)((null===_||void 0===_||null===(a=_.prices)||void 0===a?void 0:a.filter(Boolean))||[100,100]),h=Object(u.a)(f,2),p=h[0],m=h[1],d=function(e){return function(a){var t=Object(l.a)(p);t[e]=parseFloat(a.target.value),0===e&&(t[1]=t[0]||void 0),m(t)}};return function(e,a){var t=Object(n.useState)(e),r=Object(u.a)(t,2),o=r[0],c=r[1];Object(n.useEffect)((function(){var t=setTimeout((function(){c(e)}),a);return function(){clearTimeout(t)}}),[e])}((function(){!function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12096e5,n=S();n[e]={expiration:Date.now()+t,value:a},P(n)}("turnipPriceStore",{prices:p,lastPattern:c}),e.onChange(p,c)}),1e3),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Last week's pattern:"," ",r.a.createElement("select",{onChange:function(e){return i(parseInt(e.target.value))},className:T.a.patternSelect},s.map((function(e,a){return r.a.createElement("option",{selected:a===c,value:a},e)})))),r.a.createElement("div",{className:T.a.priceTable},r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[0]||"",onChange:d(0)}),r.a.createElement("div",{className:T.a.dayName},"Buy Price")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[2]||"",onChange:d(2)}),r.a.createElement("input",{type:"text",value:p[3]||"",onChange:d(3)}),r.a.createElement("div",{className:T.a.dayName},"Monday")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[4]||"",onChange:d(4)}),r.a.createElement("input",{type:"text",value:p[5]||"",onChange:d(5)}),r.a.createElement("div",{className:T.a.dayName},"Tuesday")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[6]||"",onChange:d(6)}),r.a.createElement("input",{type:"text",value:p[7]||"",onChange:d(7)}),r.a.createElement("div",{className:T.a.dayName},"Wednesday")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[8]||"",onChange:d(8)}),r.a.createElement("input",{type:"text",value:p[9]||"",onChange:d(9)}),r.a.createElement("div",{className:T.a.dayName},"Thursday")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[10]||"",onChange:d(10)}),r.a.createElement("input",{type:"text",value:p[11]||"",onChange:d(11)}),r.a.createElement("div",{className:T.a.dayName},"Friday")),r.a.createElement("span",{className:T.a.formDay},r.a.createElement("input",{type:"text",value:p[12]||"",onChange:d(12)}),r.a.createElement("input",{type:"text",value:p[13]||"",onChange:d(13)}),r.a.createElement("div",{className:T.a.dayName},"Saturday"))))};var C=function(){var e=Object(n.useState)(4),a=Object(u.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)([]),l=Object(u.a)(c,2),f=l[0],h=l[1],p=0,m=0;f.forEach((function(e,a){e&&(p=a,m=e)}));var d=v(f,t).patterns,g=y(d,p+1),E=d.map((function(e){var a=e.dailyPriceRange.map((function(e,a){return{x:a,y0:e.low,y1:e.high}}));return{lines:[{data:e.dailyPriceRange.map((function(e,a){return{x:a,y:f[a]}}))}],areas:[{data:a,opacity:4*e.probability}],title:"".concat(s[e.type]," (").concat(Math.round(1e3*e.probability)/10,"%)")}}));if(d.length>1){var M={lines:[{data:d[0].dailyPriceRange.map((function(e,a){return{x:a,y:f[a]}}))}],areas:E.map((function(e){return e.areas[0]})),title:"All Possible Prices"};E.forEach((function(e){return e.areas[0]=Object(i.a)({},e.areas[0],{opacity:1})})),E.unshift(M)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Animal Crossing New Horizons Turnip Price Calculator"),r.a.createElement(k,{onChange:function(e,a){h(e),o(a)}}),r.a.createElement("div",{className:T.a.recommendation},g.expected>m?"Recommendation is to hold.":"Sell Now!!","Prices are expected to be ",r.a.createElement("b",null,Math.round(g.expected))," in the future with a low of"," ",r.a.createElement("span",{style:{color:"red"}},g.low)," and a high of"," ",r.a.createElement("span",{style:{color:"green"}},g.high),"."),E.map((function(e,a){return r.a.createElement(x,{key:"".concat(a,"-").concat(JSON.stringify(e)),data:e})})))};var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.c4577ec3.chunk.js.map