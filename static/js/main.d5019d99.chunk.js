(this.webpackJsonpanimal_crossing_turnips=this.webpackJsonpanimal_crossing_turnips||[]).push([[0],{1:function(e,t,a){e.exports={priceTable:"Turnips_priceTable__1R06m",formDay:"Turnips_formDay__1WR1H",recommendation:"Turnips_recommendation__1YEcW",patternSelect:"Turnips_patternSelect__1x5LR"}},70:function(e,t,a){e.exports=a(77)},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),c=(a(75),a(76),a(6)),l=a(3),u=a(2),s=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},f=function(e){return Math.ceil(e)},h=function(e,t){return Math.random()*(t-e)+e},p=["Random","Large Spike","Decreasing","Small Spike","Unknown"];function v(e){for(var t=[e,e],a=2,n=s(0,6),r=Math.random()>.5?3:2,o=7-n,i=5-r,c=s(0,o-1),l=0;l<n;l++)t[a++]=f(h(.9,1.4)*e);for(var u=h(.8,.6),p=0;p<r;p++)t[a++]=f(u*e),u-=.04,u-=h(0,.06);for(var v=0;v<o-c;v++)t[a++]=f(h(.9,1.4)*e);u=h(.8,.6);for(var d=0;d<i;d++)t[a++]=f(u*e),u-=.04,u-=h(0,.06);for(var m=0;m<c;m++)t[a++]=f(h(.9,1.4)*e);return t.shift(),t.shift(),t}function d(e){var t=e[0],a=[],n=[];[0,1,2,3,4,5,6].forEach((function(t){[2,3].forEach((function(r){[0,1,2,3,4,5,6].forEach((function(o){var i=7-t,c=5-r;if(!(o>i-1)){n.push({decPhaseLen1:r,hiPhaseLen1:t,hiPhaseLen3:o,hiPhaseLen2and3:i,decPhaseLen2:c});for(var l=[],u=0;u<14;u++)l.push([e[u],e[u]]);a.push(l)}}))}))}));for(var r=0;r<n.length;r++){for(var o=n[r],i=2,c=0;c<o.hiPhaseLen1;c++)e[i]||(a[r][i][0]=Math.floor(.9*t),a[r][i][1]=Math.ceil(1.4*t)),i++;for(var l=.6,u=.8,s=0;s<o.decPhaseLen1;s++)e[i]||(a[r][i][0]=Math.floor(l*t),a[r][i][1]=Math.ceil(u*t)),l-=.1,u-=.04,i++;for(var f=0;f<o.hiPhaseLen2and3-o.hiPhaseLen3;f++)e[i]||(a[r][i][0]=Math.floor(.9*t),a[r][i][1]=Math.ceil(1.4*t)),i++;l=.6,u=.8;for(var h=0;h<o.decPhaseLen2;h++)e[i]||(a[r][i][0]=Math.floor(l*t),a[r][i][1]=Math.ceil(u*t)),l-=.1,u-=.04,i++;for(var p=0;p<o.hiPhaseLen3;p++)e[i]||(a[r][i][0]=Math.floor(.9*t),a[r][i][1]=Math.ceil(1.4*t)),i++}return a}function m(e){for(var t=[e,e],a=s(3,9),n=h(.9,.85),r=2;r<a;r++)t[r]=f(n*e),n-=.03,n-=h(0,.02);for(t[r++]=f(h(.9,1.4)*e),t[r++]=f(h(1.4,2)*e),t[r++]=f(h(2,6)*e),t[r++]=f(h(1.4,2)*e),t[r++]=f(h(.9,1.4)*e);r<14;r++)t[r]=f(h(.4,.9)*e);return t.shift(),t.shift(),t}function g(e){var t=e[0],a=[],n=[];[3,4,5,6,7,8,9].forEach((function(t){n.push({peakStart:t});for(var r=[],o=0;o<14;o++)r.push([e[o],e[o]]);a.push(r)}));for(var r=0;r<n.length;r++){for(var o=n[r],i=.85,c=.9,l=2;l<o.peakStart;l++)e[l]||(a[r][l][0]=Math.floor(i*t),a[r][l][1]=Math.ceil(c*t)),i-=.05,c-=.03;for(e[l]||(a[r][l][0]=Math.floor(.9*t),a[r][l][1]=Math.ceil(1.4*t)),l++,e[l]||(a[r][l][0]=Math.floor(1.4*t),a[r][l][1]=Math.ceil(2*t)),l++,e[l]||(a[r][l][0]=Math.floor(2*t),a[r][l][1]=Math.ceil(6*t)),l++,e[l]||(a[r][l][0]=Math.floor(1.4*t),a[r][l][1]=Math.ceil(2*t)),l++,e[l]||(a[r][l][0]=Math.floor(.9*t),a[r][l][1]=Math.ceil(1.4*t)),l++;l<14;l++)e[l]||(a[r][l][0]=Math.floor(.4*t),a[r][l][1]=Math.ceil(.9*t))}return a}function y(e){var t=[e,e],a=.9;a-=h(0,.05);for(var n=2;n<14;n++)t[n]=f(a*e),a-=.03,a-=h(0,.02);return t.shift(),t.shift(),t}function E(e){for(var t=e[0],a=[],n=[],r=0;r<14;r++)n.push([e[r],e[r]]);a.push(n);var o=.9,i=.9;o-=.05,i-=0;for(var c=2;c<14;c++){for(var l=0;l<a.length;l++)e[c]||(a[l][c][0]=Math.floor(o*t),a[l][c][1]=Math.ceil(i*t));o-=.05,i-=.03}return a}function b(e){for(var t=[e,e],a=s(2,9),n=h(.9,.4),r=2;r<a;r++)t[r]=f(n*e),n-=.03,n-=h(0,.02);if(t[r++]=f(h(.9,1.4)*e),t[r++]=f(h(.9,1.4)*e),n=h(1.4,2),t[r++]=f(h(1.4,n)*e)-1,t[r++]=f(n*e),t[r++]=f(h(1.4,n)*e)-1,r<14)for(n=h(.9,.4);r<14;r++)t[r]=f(n*e),n-=.03,n-=h(0,.02);return t.shift(),t.shift(),t}function M(e){var t=e[0],a=[],n=[];[2,3,4,5,6,7,8,9].forEach((function(t){n.push({peakStart:t});for(var r=[],o=0;o<14;o++)r.push([e[o],e[o]]);a.push(r)}));for(var r=0;r<n.length;r++){for(var o=n[r],i=.4,c=.9,l=2;l<o.peakStart;l++)e[l]||(a[r][l][0]=Math.floor(i*t),a[r][l][1]=Math.ceil(c*t)),i-=.05,c-=.03;if(e[l]||(a[r][l][0]=Math.floor(.9*t),a[r][l][1]=Math.ceil(1.4*t)),l++,e[l]||(a[r][l][0]=Math.floor(.9*t),a[r][l][1]=Math.ceil(1.4*t)),l++,e[l]||(a[r][l][0]=Math.floor(1.4*t)-1,a[r][l][1]=Math.ceil(2*t)-1),l++,e[l]||(a[r][l][0]=Math.floor(1.4*t),a[r][l][1]=Math.ceil(2*t)),l++,e[l]||(a[r][l][0]=Math.floor(1.4*t)-1,a[r][l][1]=Math.ceil(2*t)-1),++l<14)for(i=.4,c=.9;l<14;l++)e[l]||(a[r][l][0]=Math.floor(i*t),a[r][l][1]=Math.ceil(c*t)),i-=.05,c-=.03}return a}function x(e,t){return 0===e?v(t):1===e?m(t):2===e?y(t):3===e?b(t):[]}function w(e){return 0===e?[.2,.3,.15,.35]:1===e?[.5,.05,.2,.25]:2===e?[.25,.45,.05,.25]:3===e?[.45,.25,.15,.15]:[.35,.25,.15,.25]}function O(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=Object(l.a)(e),n=2;n<a.length;n++)a[n]=0;var r=[d(a),g(a),E(a),M(a)],o=[],i=w(t);r.forEach((function(t,a){var n=[];t.forEach((function(t){for(var r={dailyPriceRange:[],probability:0,type:a},o=0;o<2;o++)r.dailyPriceRange.push({high:e[o],low:e[o]});for(var i=2;i<t.length;i++){var c=t[i][0],l=t[i][1];if(e[i]&&e[i]<c)return;if(e[i]&&e[i]>l)return;r.dailyPriceRange.push({high:l,low:c})}n.push(r)})),n.forEach((function(e){e.probability=i[a]/n.length})),o.push.apply(o,n)}));var c=o.reduce((function(e,t){return e+t.probability}),0);return o.forEach((function(e){return e.probability=e.probability/c})),{patterns:o}}function N(e,t){for(var a=function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[],n=[];return e.forEach((function(e){for(var r=2;r<14;r++){for(var o=0,i=0,c=0,l=r;l<14;l++){var u=e.dailyPriceRange[l].high,s=e.dailyPriceRange[l].low,f=(u+s)/2;o<f&&(o=f,i=u,c=s)}t[r]+=o*e.probability,n[r]=Math.min(n[r]||99999,c),a[r]=Math.max(a[r]||0,i)}})),{price:t,low:n,high:a}}(e),n=0,r=0,o=0,i=t;i<14;i++)a.price[i]>n&&(n=a.price[i],r=a.high[i],o=a.low[i]);return{expected:n,high:r,low:o}}var P=a(4),S=function(e){var t=Object(n.useRef)(null),a=10,o=30,i=30,l=60,s=460-l-o,f=400-a-i,h=Object(n.useState)(null),p=Object(u.a)(h,2),v=p[0],d=p[1];return Object(n.useEffect)((function(){(null===v||void 0===v?void 0:v.svg)&&v.svg.remove();var n=P.f(t.current).attr("width",s+l+o).attr("height",f+a+i).append("g").attr("transform","translate("+l+","+a+")"),r=P.e().domain(e.options.xDomain).range([0,s]);n.append("g").attr("transform","translate(0,"+f+")").call(P.b(r).tickFormat(e.options.xTickFormat));var u=P.e().domain(e.options.yDomain).range([f,0]);n.append("g").call(P.c(u).tickFormat(e.options.yTickFormat));var h=n.append("text").attr("x",s/2).attr("y",0+a).attr("text-anchor","middle").style("font-size","16px").text(e.data.title);d(Object(c.a)({},v,{svg:n,x:r,y:u,title:h,areas:[],lines:[]}))}),[e.options]),Object(n.useEffect)((function(){d((function(t){if(!t)return t;var a=t.svg,n=t.x,r=t.y,o=t.areas,i=t.lines,l=[],u=[];e.data.areas.forEach((function(e,t){var i=o[t]||a.append("path");l[t]=i,i.datum(e.data).attr("fill","#cce5df").attr("stroke","none").attr("opacity",void 0!==e.opacity?e.opacity:1).attr("d",P.a().x((function(e){return n(e.x)})).y0((function(e){return r(e.y0)})).y1((function(e){return r(e.y1)})))})),e.data.lines.forEach((function(e,t){var o=i[t]||a.append("path");u[t]=o,o.datum(e.data).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",P.d().x((function(e){return n(e.x)})).y((function(e){return r(e.y)})))}));for(var s=l.length;s<o.length;s++)o[s].remove();for(var f=u.length;f<i.length;f++)i[f].remove();return Object(c.a)({},t,{areas:l,lines:u})}))}),[e.data,null===v||void 0===v?void 0:v.svg]),r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{className:"d3-component",width:400,height:200,ref:t}))},j={},k="undefined"!==typeof localStorage;function T(){if(k){var e=localStorage.getItem("MONETFE_DATA_STORE");if(e)return JSON.parse(e)}return j}function D(e){j=e,k&&localStorage.setItem("MONETFE_DATA_STORE",JSON.stringify(e))}var _=a(1),C=a.n(_),R=function(e){var t=T()[e];if(t)return t.expiration<Date.now()?function(e){var t=T();delete t[e],D(t)}(e):t.value}("turnipPriceStore"),L=function(e){var t,a=Object(n.useState)((null===R||void 0===R?void 0:R.lastPattern)||4),o=Object(u.a)(a,2),i=o[0],c=o[1],s=Object(n.useState)((null===R||void 0===R||null===(t=R.prices)||void 0===t?void 0:t.filter(Boolean))||[100,100]),f=Object(u.a)(s,2),h=f[0],v=f[1],d=function(e){return function(t){var a=Object(l.a)(h);a[e]=parseFloat(t.target.value),0===e&&(a[1]=a[0]||void 0),v(a)}};return function(e,t){var a=Object(n.useState)(e),r=Object(u.a)(a,2),o=r[0],i=r[1];Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e])}((function(){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12096e5,n=T();n[e]={expiration:Date.now()+a,value:t},D(n)}("turnipPriceStore",{prices:h,lastPattern:i}),e.onChange(h,i)}),1e3),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Last week's pattern:"," ",r.a.createElement("select",{onChange:function(e){return c(parseInt(e.target.value))},className:C.a.patternSelect},p.map((function(e,t){return r.a.createElement("option",{selected:t===i,value:t},e)})))),r.a.createElement("div",{className:C.a.priceTable},r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[0]||"",onChange:d(0)}),r.a.createElement("div",{className:C.a.dayName},"Buy Price")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[2]||"",onChange:d(2)}),r.a.createElement("input",{type:"text",value:h[3]||"",onChange:d(3)}),r.a.createElement("div",{className:C.a.dayName},"Monday")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[4]||"",onChange:d(4)}),r.a.createElement("input",{type:"text",value:h[5]||"",onChange:d(5)}),r.a.createElement("div",{className:C.a.dayName},"Tuesday")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[6]||"",onChange:d(6)}),r.a.createElement("input",{type:"text",value:h[7]||"",onChange:d(7)}),r.a.createElement("div",{className:C.a.dayName},"Wednesday")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[8]||"",onChange:d(8)}),r.a.createElement("input",{type:"text",value:h[9]||"",onChange:d(9)}),r.a.createElement("div",{className:C.a.dayName},"Thursday")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[10]||"",onChange:d(10)}),r.a.createElement("input",{type:"text",value:h[11]||"",onChange:d(11)}),r.a.createElement("div",{className:C.a.dayName},"Friday")),r.a.createElement("span",{className:C.a.formDay},r.a.createElement("input",{type:"text",value:h[12]||"",onChange:d(12)}),r.a.createElement("input",{type:"text",value:h[13]||"",onChange:d(13)}),r.a.createElement("div",{className:C.a.dayName},"Saturday"))))};var F=function(){var e=Object(n.useState)(4),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),f=s[0],h=s[1],v=Object(n.useState)(null),d=Object(u.a)(v,2),m=d[0],g=d[1],y=0,E=0;f.forEach((function(e,t){e&&(y=t,E=e)}));var b=O(f,a).patterns,M=N(b,y+1),w=b.map((function(e){var t=e.dailyPriceRange.map((function(e,t){return{x:t,y0:e.low,y1:e.high}}));return{lines:[{data:e.dailyPriceRange.map((function(e,t){return{x:t,y:f[t]}}))}],areas:[{data:t,opacity:4*e.probability}],title:"".concat(p[e.type]," (").concat(Math.round(1e3*e.probability)/10,"%)")}}));if(b.length>1){var P={lines:[{data:b[0].dailyPriceRange.map((function(e,t){return{x:t,y:f[t]}}))}],areas:w.map((function(e){return e.areas[0]})),title:"All Possible Prices"};w.forEach((function(e){return e.areas[0]=Object(c.a)({},e.areas[0],{opacity:1})})),w.unshift(P)}return Object(n.useEffect)((function(){return g(Object(c.a)({},m,{expected:0,high:0,low:0}))}),[f,a]),function(e,t,a){var r=Object(n.useState)({id:0}),o=Object(u.a)(r,1)[0];Object(n.useEffect)((function(){clearTimeout(o.id),o.id=setTimeout((function(){e()}),t)}),Object(l.a)(a))}((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=[],r=0,o=0,i=O(e,t),c=i.patterns,u=[0,0,0,0];c.forEach((function(e){return u[e.type]+=e.probability}));for(var s=1;s<4;s++)u[s]+=u[s-1];for(var f=Date.now(),h=0,p=function(){h++;for(var t=e[0],a=Math.random(),i=a<u[0]?0:a<u[1]?1:a<u[2]?2:3,s=[],f=0;;){(s=x(i,t)).unshift(t),s.unshift(t);var p=!1;if(c.forEach((function(e){var t=!0;e.dailyPriceRange.forEach((function(e,a){e.high<s[a]&&(t=!1),e.low>s[a]&&(t=!1)})),t&&(p=!0)})),p)break;if(f++>100){r++;break}}if(f>100)return"continue";for(var v=e.length;v<14;v++){for(var d=Object(l.a)(s),m=v;m<14;m++)d[m]=0;var g=N(O(d).patterns,v+1).expected,y=s[v];if(g<=y||13===v){var E=Math.floor(1e3*(y-t)/t)/10;o+=E,n.push(y);break}}};Date.now()-f<a;)p();return{expectedPrice:o/(h-r)+100,allPrices:n}}(f,a,2e3),t=e.expectedPrice,n=e.allPrices,r=function(e,t){for(var a=[],n=0;n<=700;n+=t)a[n/t]=0;return e.forEach((function(e){var n=Math.floor(e/t);a[n]++})),a.forEach((function(t,n){return a[n]=t/e.length*100})),a}(n,10);g({histogram:r,expected:t,low:Math.min.apply(Math,Object(l.a)(n)),high:Math.max.apply(Math,Object(l.a)(n))})}),1e3,[f,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Animal Crossing New Horizons Turnip Price Calculator"),r.a.createElement(L,{onChange:function(e,t){h(e),o(t)}}),0===w.length?r.a.createElement("div",{className:C.a.recommendation},"This scenario doesn't seem possible. Is there a mistake in the prices?"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:C.a.recommendation},((null===m||void 0===m?void 0:m.expected)||M.expected)>E?"Recommendation is to hold. ":"Sell Now!! ","Prices are expected to be"," ",r.a.createElement("b",null,Math.round((null===m||void 0===m?void 0:m.expected)||M.expected))," in the future with a low of"," ",r.a.createElement("span",{style:{color:"red"}},Math.min(M.low,(null===m||void 0===m?void 0:m.low)||999))," ","and a high of"," ",r.a.createElement("span",{style:{color:"green"}},Math.max(M.high,(null===m||void 0===m?void 0:m.high)||0)),"."),(null===m||void 0===m?void 0:m.histogram)?r.a.createElement(S,{data:{lines:[{data:m.histogram.map((function(e,t){return{x:10*t,y:e}}))}],areas:[],title:"Probability"},options:{xDomain:[0,600],yDomain:[0,100],yTickFormat:function(e){return"".concat(e,"%")}}}):null,w.map((function(e,t){return r.a.createElement(S,{key:"".concat(t,"-").concat(JSON.stringify(e)),data:e,options:{yDomain:[0,600],xDomain:[0,14],xTickFormat:function(e){return["Buy","","Mon","","Tue","","Wed","","Thu","","Fri","","Sat",""][e]}}})}))))};var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/acnh_turnips",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/acnh_turnips","/service-worker.js");W?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()}},[[70,1,2]]]);
//# sourceMappingURL=main.d5019d99.chunk.js.map